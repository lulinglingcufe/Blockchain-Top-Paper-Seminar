今天和大家分享一篇CCS2017的论文，主要的创新点是结合区块链+博弈论场景。

题目是：
背叛，不信任和理性，使用 抗合谋的智能合约  来实现可靠的云计算

首先作者给了智能合约一个定义。以太坊上智能合约是存储在区块链上的。以太坊上的智能合约是由维护区块账本的节点来执行的。以太坊智能合约执行，即区块产生，的唯一性，由共识来保证。

因此智能合约可以被认为是在一个全局信任的机器上运行的程序。

智能合约具有一些特点，首先它是自我执行的。合约上的规则，不需要第三方来保障执行。
另外，在以太坊上调用智能合约消耗gas，这个代价成本比起传统的法律合约，还是比较小的。

作者在智能合约上实现了一个基于博弈论的机制，来保障可信的云计算。
那么云计算的场景是什么样的呢？就是用户给定输入，把计算过程外包给云来做，由云服务来为用户提供计算结果。保障计算结果的正确性是很重要的。

当前关于可验证云计算的工作主要有两种思路。一种是基于密码学的。云服务商计算出结果后，同时计算出一个密码证明，用户可以根据密码证明验证计算结果的正确性。另一种用户使用多个云来计算结果，交叉检查结果来确定计算的正确性。但是，这些方法的经济代价都比较大。

一般云计算会根据计算量来收费。密码学证明计算量肯定比较大。查询多个云的话，花费也相应增加。

那么能不能通过一种机制，保障只要查询两个云服务商就能实现可信计算呢？

（下两页）最大的挑战就是两个云互相串通。他们完全有理由去做，串通的话，可以降低计算成本，获取更大的利益。那么一般很少只选择两个云。

本文使用经济学的方法来破坏合谋的基础。合谋是因为有利可图，每个串通者有自己的利益，他们互相之间也许并不信任。如果没有信任，也无法进行合谋串通。

本文使用了博弈论来分析外包云计算的模型，在这个游戏机制中，合谋不是好的选择。合谋双方互相有可能背叛对方，导致对方的最差结局。用智能合约来实现这个游戏。（跳一页）

在敌手模型中，客户是诚实的。2个云服务商是理性的。总是最大化效用。了解所有的结局。保持各自的判断力并为自己的利益行事。
一个可信的第三方，只有当冲突发生的时候，才请求它来进行结果的重新计算与裁判。（跳1张）

这里使用的博弈论模型是囚徒困境。在这个文章里面一共设计了三种合约。
第一个是囚徒困境合约：逻辑很简单
首先需要设定一些参数：
用户为了调用云服务花费是w
云服务商做计算的代价是 c
为了得到这份工作，云服务商需要在合约里支付一笔押金d。
ch 是调用可信第三方来进行裁决需要的花费。
如果云服务商说谎被抓住了，押金将被没收。
诚实的云将得到被没收者的押金。

我们直接对着一个例子来看。（直接对着 图片说）

对这个游戏的分析显示，主要是利用博弈论来找均衡点。nash均衡简单理解就是，每个参与者实现自己的最大化利益。

在这个博弈游戏中只存在一种顺序均衡（一种条件更严格的nash均衡，有相关的数学定义）。使用顺序均衡的原因是需要处理 不完全信息。（跳2页）
如果云服务商是理性的，那么他们将保持诚实。达到这个V4结果。这个结果是一个均衡点。

只有在云服务商无法对串通行为做出承诺的情况下，这种均衡才能存在。

因此作者引出了第二个合约，云服务商通过一个合谋合约，来改变游戏的规则。（对着图讲）一个云服务商初始化合谋合约，并告诉另一个服务商，参与合谋可以获得一个的贿赂b。那么合谋将为双方获取更多的利益。参与合谋合约，双方也要付一笔保证金。（跳过3张）

这样的话，均衡点就是云服务商合谋欺骗。V10的结果。

因此引出最后一个合约，告密者合约。（跳过两页，对着图讲）
其中主要包括两个激励，告密行为不会被惩罚，而且能拿到奖励。对于云服务商来说，它的收益只取决于自己的行为，而非另一个服务商的行为，因此不需要再引入其他合约来激励另一个服务商做某些行为。

###那么进一步分析，是否有这种情况。没有合谋，但是某个云服务商报告说对方意图欺骗。
（跳过5页）
对这三种游戏都画了博弈树。均衡点仍旧是保持诚实。（nash均衡就是自身效益最大）

作者实现了以太坊的三种智能合约。另外使用零知识证明来保护输入输出信息的隐私性。以太坊上合约gas的消耗还比较少。